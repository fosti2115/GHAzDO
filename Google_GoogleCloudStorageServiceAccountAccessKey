from google.cloud import storage
from google.oauth2 import service_account

# Ustawienie poświadczeń
service_account_access_key = 'nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCSGCtaFDj/574s\njFnHZG1PjJATt0IgFHWgsyBrRbs8T/vaaKnbNtHYTjXEXxeX2qsbOlKM32s7nqP7\nqXWhhmHZqyzcrG//etsrbuzXUF8YEDfMgPunRkBfo/jYEwwiODb98YG6IveD8w7F\ntIH7v0gFEyUVDF2gPQvBNBNKRVYXzCltUgrzoXehS6iaEbXh49wbgBCb4QwWn+8s\nTpAaJxBbzjLZuF8sGFVHQWUSJq58Q/RsHZ+c6Lw9KnRk2z7EYv/kmbb8yklhyhno\nbVhidLS/G4I+u2pr7LhIIzqO2bYOo8Vc1yWggNyvwsXp5Je2CdRWGCzEzMACf8ne\nIDi4PVqtAgMBAAECggEAHQWWHxfjVtrXiYv8DcMif+oBeRkvlqXZ1CmhaA37KvkM\npA+kpnqWZyzqO29UhYMX+Jm2amu7pqVWGBlK1+KVL6N0jwXmXc8vGMq5W/CIY4Rd\nQU/iLhGjmhw9w9bM00NtkTbXuX1WxCyVo6q/I56VFQT/mdXSB5H48tGAf4GUn7dP\nL5LaMnEWLDneZA6xv3phaVFmKqH+lLhv8U38U3AAM/ikzDP2vb5EohjheaeEYVNk\nPgvO6zvRkdFaEEZgAhzdh848xmurbGM0hEdtRCJSKyJLdfew+6in0IdhwMGX6tRM\nlV2LcQJcDTNQQgbIzZW+ZQElfq8qklJteKEXP6DidQKBgQDEGeiF9T9Oa0QOSpDZ\nFHtf+QpqtVfOon2ipTdyLW0eCktr/kd8jVrmHipHn4lgJ3e3UexT9zDCT/a3TAnT\n7W4Nr1AKvj55GPaWwvq5w6OlC2IhY1RytSuyBKN4xOJm+o9Uf2WYqNyRvc6E+yP0\nT9Wfmk4C/WpmGhDfg3e+aGDx7wKBgQC+t/2XN03MDv8nrGRz1bkqrKOhsSBt1OXm\nKgswOSHvQF4CrUGETLkZ0D18sAEZENNJZzGwgD68DW6nLe2W9IN+jbMjBN05TnUR\n7wAboVyCaQ1trCrWYJNgQpw+dAeJquUpWu8WMEHRABXFYTaadvdY/4UiXndOurwy\nhLASAJMpIwKBgD6s0SZPVeZoXh37MwROiYgI/o1QXDoMsP7Usz3oyuE5BRYE9TAX\ntZ+qsHSnxq5WruqGYnQLoyfXitDWmqWDUxNIntpwJ2No2RciRiQtJRZQ5xIovwrS\nYJ7K4LxuoLWtCzZEaWI7RhPGiET0R2+EPJCALsLB38m2NwJY8GKI1cM9AoGBAIyF\nBfyHi/OgzRDPLQhH3XF61+mHl0w1Q9qM+cdjIQSl2V6BhzdSTEOfsd4P1A9C3VpF\nBVB1fUOTZgcZiOfjaosxHl7b85+IlitLfDnfb0jK3FEFPF7Ns2iGS5acaP1fBA+v\nZ19i2OuD84aFdPTkWKSjR9Wl4qQIZCeYqh3pfIQfAoGAYtpjVOhvVzH95jf7eizj\ns6s9evGw9jW1mHsdR3xt6wwfKEsDSsTkaq7rO/7LTRmhYPagWSgJl0crIgN5+kX2\n7rPZl9egKGRD/TmnWOC4Y0Y3nF7/pheLUd7YvV6d+2GQPZrmgU/AeC7BHjt/j3/q\nMhxwrudt/hXnlOTKLk23GNE='

credentials = service_account.Credentials.from_service_account_info(
    {'access_key': service_account_access_key, 'other_fields': 'XXX'}
)

# Tworzenie klienta do Google Cloud Storage
storage_client = storage.Client(credentials=credentials)

# Wylistowanie plików w konkretnym bucket'cie
bucket_name = 'your_bucket_name'
bucket = storage_client.get_bucket(bucket_name)
blobs = bucket.list_blobs()
for blob in blobs:
    print(blob.name)
